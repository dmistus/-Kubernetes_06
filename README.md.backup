# «Хранение в K8s. Часть 1»

### Задание 1

*Создать Deployment приложения, состоящего из двух контейнеров и обменивающихся данными.*

*Создать Deployment приложения, состоящего из контейнеров busybox и multitool.*

*Сделать так, чтобы busybox писал каждые пять секунд в некий файл в общей директории.*

*Обеспечить возможность чтения файла контейнером multitool.*

*Продемонстрировать, что multitool может читать файл, который периодоически обновляется.*

*Предоставить манифесты Deployment в решении, а также скриншоты или вывод команды из п. 4.*

_____

Напишем Deployment приложения, состоящего из контейнеров busybox и multitool.


![](img/1.png)

Применим:

![](img/2.png)

![](img/3.png)

Проверим данные из контейнеров: 

![](img/4.png)

![](img/5.png)

Проверим читает ли контейнер multitool файл success.txt, посмотрев его лог:

![](img/6.png)
____

### Задание 2



*Создать DaemonSet приложения, которое может прочитать логи ноды.*

*Создать DaemonSet приложения, состоящего из multitool.*

*Обеспечить возможность чтения файла /var/log/syslog кластера MicroK8S.*

*Продемонстрировать возможность чтения файла изнутри пода.*

*Предоставить манифесты Deployment, а также скриншоты или вывод команды из п. 2.*
_____
Напишем манифест DaemonSet приложения, состоящего из multitool. Применим манифест и проверим DaemonSet и Pod: 


![](img/7.png)

![](img/8.png)

![](img/9.png)


Обеспечили возможность чтения файла /var/log/syslog кластера MicroK8S.

Проверяем:

![](img/10.png)


___________

Ссылка на манифесты:











